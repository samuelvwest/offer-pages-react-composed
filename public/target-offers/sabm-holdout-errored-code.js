



// ***************** START "entity" CONTENT ***************** -->



// ***************** START "ancestry-global-mbox" CONTENT ***************** -->


// ---------------- ancestry-global-mbox offer content 1 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ supportSection: true })



// ---------------- ancestry-global-mbox offer content 2 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ featuresGrid: `pretty-grid` })



// ---------------- ancestry-global-mbox offer content 3 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ testimonialSection: false })



// ---------------- ancestry-global-mbox offer content 4 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ infoSections: true })



// ---------------- ancestry-global-mbox offer content 5 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ videoSection: `modal` })



// ---------------- ancestry-global-mbox offer content 6 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ offerings: `control` })



// ---------------- ancestry-global-mbox offer content 7 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ packageEmphasis: `worldexplorer` })



// ---------------- ancestry-global-mbox offer content 8 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ durationEmphasis: `sabm` })



// ---------------- ancestry-global-mbox offer content 9 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ examplesSection: false })



// ---------------- ancestry-global-mbox offer content 10 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ faqsSection: `not-included` })



// ---------------- ancestry-global-mbox offer content 11 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ otherProductsSection: false })



// ---------------- ancestry-global-mbox offer content 12 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ privacySection: false })



// ---------------- ancestry-global-mbox offer content 13 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ feedbackSection: false })



// ---------------- ancestry-global-mbox offer content 14 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ headerStyle: `sparkly-dragon` })



// ---------------- ancestry-global-mbox offer content 15 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ headerText: `sparkly-dragon` })



// ---------------- ancestry-global-mbox offer content 16 ---------------- -->

    // Set up variable control function if not defined yet
    window._mV = window._mV || function(newState) {
        tao.g.modifyVariables = tao.g.modifyVariables || {};
        Object.keys(newState).forEach((key) => {
            tao.g.modifyVariables[key] = newState[key];
        });
    }
    // Set this variable variant definition.
    window._mV({ timeline: false })



// ---------------- ancestry-global-mbox offer content 17 ---------------- -->
{/* <style>
    #monthly { margin-top: 8px !important;}
    #formCon .priceThirdRow { height: 100px !important; }
</style> */}

    // desktop
    if (document.querySelector("#mainWrap")) {
        var html = '<span class="bold colHeading textlrg" id="sixMonth">6-month <br> membership</span>'
        document.querySelector('.ancCol1.bestCol').innerHTML = html

        document.querySelectorAll('.usDiscRow.bestCol .priceLabel')[0].classList.remove("noDisplay")
        document.querySelectorAll('.usDiscRow.bestCol .priceLabel')[1].classList.add("noDisplay")
        document.querySelectorAll('.worldRow.bestCol .priceLabel')[0].classList.remove("noDisplay")
        document.querySelectorAll('.worldRow.bestCol .priceLabel')[1].classList.add("noDisplay")
        document.querySelectorAll('.worldPlusRow.bestCol .priceLabel')[0].classList.remove("noDisplay")
        document.querySelectorAll('.worldPlusRow.bestCol .priceLabel')[1].classList.add("noDisplay")
        document.querySelector("#billedMonthlyLegal").classList.add("noDisplay")
    } 
    // tablet
    else if (document.querySelector("#offerPageWrap")) {
        var html = '\
        <div>\
            <strong class="text2xlrg">6-month membership</strong>\
        </div>'
        document.querySelector('#sixMonthMem').innerHTML = html

        document.querySelectorAll('#standardPriceCol .priceThirdRow')[0].classList.remove("noDisplay")
        document.querySelectorAll('#standardPriceCol .priceThirdRow')[1].classList.add("noDisplay")
        document.querySelectorAll('#plusPriceCol .priceThirdRow')[0].classList.remove("noDisplay")
        document.querySelectorAll('#plusPriceCol .priceThirdRow')[1].classList.add("noDisplay")
        document.querySelectorAll('#allPriceCol .priceThirdRow')[0].classList.remove("noDisplay")
        document.querySelectorAll('#allPriceCol .priceThirdRow')[1].classList.add("noDisplay")
        document.querySelector("#billedMonthlyLegal").classList.add("noDisplay")
    }


    // tracking
    window.tao.g.campId = 'us_sabm_implementation_holdout';
    window.tao.g.campCell = 'holdout'

    // click tracking
    tao.f.addTracking({
        selector: '.subBtn, #priceGridCta, #services, #mainCtaForm .ancBtn',
        pass: 'click_main_cta'
    });

    if (/join/i.test(document.location.pathname)) {
        tao.f.addTracking({
            selector: '#mainCtaForm .ancBtn, #services',
            pass: 'click_deny_cta'
        });
    }
    if (/freetrial/i.test(document.location.pathname)) {
        tao.f.addTracking({
            selector: '.subBtn, #priceGridCta, #services',
            pass: 'click_ftlp_cta'
        });
    }
    if (/subscribe/i.test(document.location.pathname)) {
        tao.f.addTracking({
            selector: '.subBtn, #priceGridCta, #services',
            pass: 'click_holp_cta'
        });
    }
  
  // Set up pageSetting control function if not defined yet
 window._mPS = window._mPS || function(newState) {
    window.tao.g.modifyPageSettings = window.tao.g.modifyPageSettings || {};
    Object.keys(newState).forEach((key) => {
        window.tao.g.modifyPageSettings[key] = newState[key];
    });
}
// Set this pageSetting definition for P&M Test.
window._mPS({ LDBM: false })

    // A4T script 
    tao.f.a4tTracking(window.tao.g.campId, tao.g.campCell);

    // Prepare React setup function if not defined yet
    window.tao.f.setupSPAScripts = window.tao.f.setupSPAScripts || function() {
        if (!window.tao.g.setupSPAScriptRun) {
            // Adjust styles for other elements on page
            tao.f.insertNode(`
                <style id="spaSetupStyles" class="spaStyles">
                    body > *:not(.spaShow) { 
                        display: none; 
                    } 
                </style>`, document.body, 'prepend');
            tao.f.windu({
                name: 'placeHideExcluders',
                selector: '#HeaderRegion, #BannerRegion, #FooterRegion, .highlightedMbox',
                attach: function(elem) {
                    elem.classList.add('spaShow')
                }
            });
            tao.f.windu({
                name: 'removePageStyles',
                selector: 'body > style:not(.spaStyles)',
                attach: function(elem) {
                    tao.f.removeNode(elem);
                }
            })
            // Place React App Dom Element
            tao.f.windu({
                name: 'placeReactApp',
                when: function() {
                    return !!document.getElementById('HeaderRegion');
                },
                do: function() {
                    // tao.f.insertNode('<style id="spaHideBodyStyle">#app.spaShow { opacity: 0; }</style>', document.head);
                    tao.f.insertNode('<div id="app"></div>', document.getElementById('HeaderRegion'), 'after');

                    // Show body after styles and scripts are loaded
                    tao.g.spaAppFilesLoaded = 0;
                    tao.f.showSPAApp = () => {
                        tao.g.spaAppFilesLoaded++;
                        if (tao.g.spaAppFilesLoaded > 1) {
                            document.getElementById('app').classList.add('spaShow');
                        }
                    }

                    // Define version last built. majorVersion/minorVersion/bugUpdate
                    var spaVersionFolders = 'v2/1/6/';

                    // App Styles
                    var spaStyles = document.createElement('link');
                        spaStyles.type = "text/css";
                        spaStyles.rel = "stylesheet";
                        spaStyles.href = 'https://www.ancestrycdn.com/mars/landing/offer-page-spa/' + spaVersionFolders + 'styles.css';
                        spaStyles.setAttribute("onload", "tao.f.showSPAApp();");
                    document.head.appendChild(spaStyles);

                    // App Script
                    var spaScript = document.createElement('script');
                        spaScript.type = 'text/javascript';
                        spaScript.src = 'https://www.ancestrycdn.com/mars/landing/offer-page-spa/' + spaVersionFolders + 'bundle.js';
                        spaScript.setAttribute("onload", "tao.f.showSPAApp();");
                    document.head.appendChild(spaScript);
                }
            });
            // prevent duplicate function runs
            window.tao.g.setupSPAScriptRun = true;
        }
    }
    // Run React Setup function in case it hasn't run yet.
    window.tao.f.setupSPAScripts();


    // Profile Attribute check/set
    var entryProfileStr = '';
    // console.log('profile.presentationMessageEntry', !!entryProfileStr);
    if (entryProfileStr !== 'true') {
        window.tao.g.additionalVariantAttributes = {
            presentationMessageEntry: true,
            'profile.presentationMessageEntry': 'true'
        }
    }
    // console.log(window.tao.g.additionalVariantAttributes);

    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1584090,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');


    tao.f.mbox('entity','entity.id = 10005','user.categoryId=subscribe');
    var inputArray = Array.prototype.slice.call(document.querySelectorAll("input"));
    for ( q=0; q < inputArray.length; q++){
    let type = inputArray[q].type;
    if(type === "radio"){
        inputArray[q].addEventListener("click", function(event){ 
            let radVal = event.target.value;
            console.log(radVal);
            switch (radVal) {
            case 'O-25370': tao.f.mbox('entity','entity.id = 10005','user.categoryId=subscribe');
            break;
            case 'O-25371': tao.f.mbox('entity','entity.id = 10006','user.categoryId=subscribe');
            break;
            case 'O-25376': tao.f.mbox('entity','entity.id = 10007','user.categoryId=subscribe');
            break;
            case 'O-23589': tao.f.mbox('entity','entity.id = 10008','user.categoryId=subscribe');
            break;
            case 'O-22054': tao.f.mbox('entity','entity.id = 10009','user.categoryId=subscribe');
            break;
            case 'O-24566': tao.f.mbox('entity','entity.id = 10010','user.categoryId=subscribe');
            break;
            default:console.log("no value");
            }
        });
    }
}
